(this["webpackJsonpai-daw"]=this["webpackJsonpai-daw"]||[]).push([[0],[,,,,,,,function(e,t,a){},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/hihat.8b51681f.wav"},function(e,t,a){e.exports=a.p+"static/media/clap.a48d86a4.wav"},function(e,t,a){e.exports=a.p+"static/media/snare.e682a7ad.wav"},function(e,t,a){e.exports=a.p+"static/media/kick.e35f0635.wav"},function(e,t,a){e.exports=a.p+"static/media/metronome_bar.25dc09ed.mp3"},function(e,t,a){e.exports=a.p+"static/media/metronome_beat.fb3e8560.mp3"},,,function(e,t,a){e.exports=a(45)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(29),a(5)),l=(a(30),{padding:8,background:"#222222",color:"white"});function s(){return r.a.createElement("div",{style:l},r.a.createElement("strong",null,"AI DAW")," by sibeliusy")}var u=a(1),m=a.n(u),p=(a(31),a(13)),d=a(14),h=a(22),f=a(15),E=a(23),v=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).tick=function(){a.setState(a.state),a.myReq=window.requestAnimationFrame(a.tick)},a.state={},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.myReq)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.render(this.state.data))}}]),t}(r.a.Component),g=["bar","beat","sixteenth"];function b(){return r.a.createElement(v,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-button static"},m.a.Transport.position.split(":").map((function(e,t){return r.a.createElement("span",{className:"num-box",key:t},r.a.createElement("span",{className:"num"},Math.floor(e)),r.a.createElement("span",{className:"num-title"},g[t]))}))))}})}a(32);function k(e){var t=Object(n.useState)(e.source.volume.value),a=Object(c.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){e.source.volume.value=i}));var l=new m.a.Meter;return e.source.connect(l),r.a.createElement(v,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:100,textAlign:"left",position:"relative"},className:"menu-button static"},r.a.createElement("input",{className:"fader",style:{position:"absolute",width:100,margin:0},type:"range",min:"-100",max:"10",step:"0.1",value:i,onChange:function(e){o(e.target.value)}}),r.a.createElement("input",{type:"number",value:i,onChange:function(e){o(e.target.value)},style:{width:"100%"}}),r.a.createElement("div",{className:"meter",style:{width:Math.round(100*(t=Math.min(l.getLevel(),0),Math.pow(10,t/50)))+"%"}})),r.a.createElement("span",{className:"clipping",style:{opacity:l.getLevel()>0?1:0,transition:l.getLevel()>0?"none":"opacity 2s"}},"!"));var t}})}var y=a(6);a(33),a(34),a(7);function x(e){return r.a.createElement("div",{className:"track-part left bottom track-header",style:{height:e.data.trackHeight-0}},r.a.createElement("div",null,e.track.instrument.toString()),r.a.createElement(k,{source:e.track.instrument}),r.a.createElement("button",{className:"delete-track",onClick:function(){e.methods.removeTrack(e.index)}},"x"))}var w=a(11);a(35);function N(e){return m.a.Time(e).valueOf()*m.a.Transport.bpm.value/60}function T(e,t){return m.a.Time(m.a.Time(e).valueOf()+m.a.Time(t).valueOf()).toBarsBeatsSixteenths()}function j(e,t){return m.a.Time(m.a.Time(e).valueOf()-m.a.Time(t).valueOf()).toBarsBeatsSixteenths()}function O(e,t){return m.a.Time(e).valueOf()>m.a.Time(t).valueOf()?1:m.a.Time(e).valueOf()===m.a.Time(t).valueOf()?0:-1}function M(e){return r.a.createElement("div",{className:"region",style:{height:e.data.trackHeight-2*e.data.trackDisplayPadding,width:e.data.beatPixels*N(e.region.duration)}},r.a.createElement("div",{className:"region-wrapper",style:{width:e.data.beatPixels*N(e.region.duration)-1}},r.a.createElement("div",{className:"region-title"},e.region.title),r.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 100 100",className:"region-svg",style:{width:"calc(100% + 1px)"}},function(e,t){var a=e.notes.map((function(e){return e.pitch})),n=Math.min.apply(Math,Object(w.a)(a)),i=Math.max.apply(Math,Object(w.a)(a)),o=[],c=100/N(e.duration);return e.notes.forEach((function(e,t){var a=N(e.position)*c,l=100-100*((e.pitch-n)/(i-n)*.6+.2),s=a+c*N(e.duration);o.push(r.a.createElement("line",{x1:a,y1:l,x2:s,y2:l,stroke:"black",strokeWidth:4,key:t}))})),r.a.createElement(r.a.Fragment,null,o)}(e.region,e.data))))}function P(e){return r.a.createElement("div",{className:"timeline-grid",style:{width:-1*e.data.trackDisplayPadding+N(e.data.projectMaxLength)*e.data.beatPixels}},r.a.createElement("svg",{height:"100%",width:"100%"},function(e){for(var t,a,i,o=[],c=m.a.Transport.timeSignature,l=0;l<N(e.projectMaxLength);l++)o.push((t=l*e.beatPixels,Math.floor(l/c),e.beatPixels,a=l,i=e.trackHeight,r.a.createElement(n.Fragment,{key:a},r.a.createElement("rect",{x:t,y:"0",width:"1",height:i,fill:"#e6e6e6"}))));return r.a.createElement(r.a.Fragment,null,o)}(e.data)))}function S(e){return r.a.createElement("div",{className:"track-part bottom right track-display",style:{height:e.data.trackHeight-0,padding:e.data.trackDisplayPadding,width:N(e.data.projectMaxLength)*e.data.beatPixels}},r.a.createElement(P,{data:e.data}),e.track.regions.map((function(t,a){return r.a.createElement(M,{region:t,data:e.data,key:a})})))}a(36);function L(e){return r.a.createElement(v,{render:function(t){return r.a.createElement("div",{className:"playhead "+e.variant,style:{height:"top"===e.variant?11:e.data.tracks.length*e.data.trackHeight,width:"top"===e.variant?11:1,left:("top"===e.variant?Math.ceil(-5.5):0)+e.data.trackDisplayPadding+e.data.beatPixels*N(m.a.Transport.position)}})}})}a(37);function B(e){return r.a.createElement("div",{className:"end-screen",style:{height:"top"===e.variant?"100%":e.data.tracks.length*e.data.trackHeight,left:e.data.trackDisplayPadding+e.data.beatPixels*N(e.data.projectLength),width:-1*e.data.trackDisplayPadding+e.data.beatPixels*N(j(e.data.projectMaxLength,e.data.projectLength))}})}a(38);function F(e){return r.a.createElement("div",{className:"loop-screen",style:{left:e.data.trackDisplayPadding+N(m.a.Transport.loopStart)*N(e.data.projectLength),width:e.data.beatPixels*N(j(m.a.Transport.loopEnd,m.a.Transport.loopStart))}})}function A(e){return r.a.createElement("div",{className:"track-part top right",style:{padding:e.data.trackDisplayPadding,width:N(e.data.projectMaxLength)*e.data.beatPixels}},r.a.createElement("svg",{height:"100",width:N(e.data.projectMaxLength)*e.data.beatPixels},function(e){for(var t,a,i,o,c,l=[],s=m.a.Transport.timeSignature,u=0;u<N(e.projectMaxLength);u++)l.push((t=u*e.beatPixels,a=Math.floor(u/s),i=u%s,o=e.beatPixels,c=u,o<50?r.a.createElement(n.Fragment,{key:c},0===i?r.a.createElement("text",{x:t+4,y:"1em"},a):r.a.createElement(r.a.Fragment,null),r.a.createElement("rect",{x:t,y:0===i?"0":"1.5em",width:"1",height:"100",fill:"#e6e6e6"})):r.a.createElement(n.Fragment,{key:c},r.a.createElement("text",{x:t+4,y:"1em"},a,".",i),r.a.createElement("rect",{x:t,y:0===i?"0":"1.5em",width:"1",height:"100",fill:"#e6e6e6"}))));return r.a.createElement(r.a.Fragment,null,l)}(e.data)))}var C=a(3),D=a(4);function H(e){var t=Object(n.useState)(120),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object.assign({},e.data,{trackDisplayPadding:8,trackHeight:i});return r.a.createElement(y.ScrollSync,null,r.a.createElement("div",{className:"master"},r.a.createElement("div",{className:"column left"},r.a.createElement("div",{className:"pane top left track-part"},"header"),r.a.createElement(y.ScrollSyncPane,{group:["horizontal","vertical"]},r.a.createElement("div",{className:"pane bottom left hidden-scrollbar"},e.data.tracks.map((function(t,a){return r.a.createElement(x,{key:a,index:a,track:e.data.tracks[a],data:l,methods:e.methods})}))))),r.a.createElement("div",{className:"column right"},r.a.createElement(y.ScrollSyncPane,{group:["horizontal","vertical"]},r.a.createElement("div",{className:"pane top right hidden-scrollbar"},r.a.createElement("div",{className:"tracks-view-sliders-container"},r.a.createElement("div",{className:"tracks-view-slider"},r.a.createElement("span",{className:"tracks-view-slider-title"},r.a.createElement(C.a,{icon:D.b})),r.a.createElement("input",{type:"range",min:"10",max:"310",step:"10",value:i,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"tracks-view-slider"},r.a.createElement("span",{className:"tracks-view-slider-title"},r.a.createElement(C.a,{icon:D.a})),r.a.createElement("input",{type:"range",min:"10",max:"310",step:"50",value:e.data.beatPixels,onChange:function(t){return e.methods.setBeatPixels(t.target.value)}}))),r.a.createElement(L,{variant:"top",data:l}),r.a.createElement(F,{data:l}),r.a.createElement(B,{variant:"top",data:l}),r.a.createElement(A,{data:l}))),r.a.createElement(y.ScrollSyncPane,{group:["horizontal","vertical"]},r.a.createElement("div",{className:"pane bottom right"},r.a.createElement(L,{variant:"bottom",data:l}),r.a.createElement(B,{variant:"bottom",data:l}),e.data.tracks.map((function(t,a){return r.a.createElement(S,{key:a,index:a,track:e.data.tracks[a],data:l,methods:e.methods})})))))))}a(44);var q=a(16),R=a.n(q),W=a(17),z=a.n(W),I=a(18),J=a.n(I),K=a(19),U=a.n(K),_={hihat:new m.a.Buffer(R.a),clap:new m.a.Buffer(z.a),snare:new m.a.Buffer(J.a),kick:new m.a.Buffer(U.a)};function V(){for(var e=[],t=0;t<16;t++)Math.random()<.1?(e.push({pitch:42,position:"0:0:"+2*t,duration:"16n"}),e.push({pitch:42,position:"0:0:"+2*(t+.5),duration:"16n"})):Math.random()<.02?(e.push({pitch:42,position:"0:0:"+2*t,duration:"32n"}),e.push({pitch:42,position:"0:0:"+2*(t+.25),duration:"32n"}),e.push({pitch:42,position:"0:0:"+2*(t+.5),duration:"32n"}),e.push({pitch:42,position:"0:0:"+2*(t+.75),duration:"32n"})):e.push({pitch:42,position:"0:0:"+2*t,duration:"16n"}),Math.random()<.2&&t%2===1&&e.push({pitch:40,position:"0:0:"+2*t,duration:"16n"}),t%8===4&&e.push({pitch:39,position:"0:0:"+2*t,duration:"16n"}),t%16===0&&e.push({pitch:32,position:"0:0:"+2*t,duration:"16n"}),Math.random()<.1&&e.push({pitch:32,position:"0:0:"+2*t,duration:"16n"});return e}var $=[{name:"Trap 1",f:function(){var e,t,a=new m.a.Sampler({42:_.hihat,40:_.snare,39:_.clap,32:_.kick}).toMaster();return{tempo:(e=108,t=200,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e),tracks:[{instrument:a,regions:[{title:"Trap Kit",duration:"2:0:0",position:"0:0:0",notes:V()}]}]}}}];function G(e){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropbtn menu-button"},r.a.createElement(C.a,{icon:D.e})," new beat"),r.a.createElement("div",{className:"dropdown-content"},$.map((function(t,a){return r.a.createElement("button",{key:a,className:"dropdown-option",onClick:function(){var a=(0,t.f)();e.methods.setTracks(a.tracks),e.methods.setTempo(a.tempo),console.log(e.methods.contentLength(a.tracks)),m.a.Transport.setLoopPoints(0,e.methods.contentLength(a.tracks))}},t.name)}))))}var Q=a(20),X=a.n(Q),Y=a(21),Z=a.n(Y),ee=new m.a.Volume,te=new m.a.Sampler({60:new m.a.Buffer(X.a),61:new m.a.Buffer(Z.a)}).chain(ee,m.a.Master);function ae(e){var t="0:0:0";return e.forEach((function(e){e.regions.forEach((function(e){var a=T(e.position,e.duration);O(a,t)>0&&(t=a)}))})),"0:"+N(t)+":0"}function ne(e){var t="0:0:0";return m.a.Transport.loop&&(t=m.a.Time(m.a.Transport.loopEnd).toBarsBeatsSixteenths()),e.forEach((function(e){e.regions.forEach((function(e){var a=T(e.position,e.duration);O(a,t)>0&&(t=a)}))})),"0:"+N(t)+":0"}function re(e){var t="96:0:0";return O(ne(e),t)>0&&(t=ne(e)),t}m.a.Transport.setLoopPoints(0,"1m"),m.a.Transport.loop=!0;var ie=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(120),l=Object(c.a)(o,2),u=l[0],p=l[1],d=Object(n.useState)(0),h=Object(c.a)(d,2),f=h[0],E=h[1],v=Object(n.useState)(110),g=Object(c.a)(v,2),y=g[0],x=g[1],w=Object(n.useState)([{instrument:(new m.a.Synth).toMaster(),regions:[{title:"cde",position:"0:0:0",duration:"1:0:0",notes:[{pitch:60,duration:"8n",position:"0:0:0"},{pitch:62,duration:"8n",position:"0:1:0"},{pitch:64,duration:"8n",position:"0:2:0"}]}]}]),j=Object(c.a)(w,2),O=j[0],M=j[1],P=Object(n.useState)(!0),S=Object(c.a)(P,2),L=S[0],B=S[1];return Object(n.useEffect)((function(){ee.mute=L,a?m.a.Transport.start():m.a.Transport.pause(),m.a.Transport.bpm.value=u,function(){m.a.Transport.cancel(),O.forEach((function(e){e.regions.forEach((function(t){t.notes.forEach((function(a){m.a.Transport.schedule((function(t){e.instrument.triggerAttackRelease(m.a.Frequency(a.pitch,"midi").toNote(),a.duration,t)}),T(a.position,t.position))}))}))}));for(var e=function(e){var t=e%m.a.Transport.timeSignature===0?60:61;m.a.Transport.schedule((function(e){te.triggerAttackRelease(m.a.Frequency(t,"midi").toNote(),.1,e)}),"0:"+e+":0")},t=0;t<N(re(O));t++)e(t)}()})),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(s,null),r.a.createElement("div",{className:"App-menu-bar"},r.a.createElement("input",{id:"title",type:"text",placeholder:"Untitled Project"})),r.a.createElement("div",{className:"App-menu-bar"},r.a.createElement(G,{data:{tracks:O},methods:{setTracks:M,contentLength:ae,setTempo:p}}),r.a.createElement("button",{className:"menu-button",onClick:function(){m.a.Transport.pause(),m.a.Transport.position="0:0:0",a?m.a.Transport.start():m.a.Transport.pause()}},r.a.createElement(C.a,{icon:D.g})),r.a.createElement("button",{className:"menu-button",onClick:function(){"running"!==m.a.context.state&&m.a.context.resume(),i(!a)}},a?r.a.createElement(C.a,{icon:D.c}):r.a.createElement(C.a,{icon:D.d})),r.a.createElement("button",{className:"menu-button"},r.a.createElement(C.a,{icon:D.h})),r.a.createElement("button",{className:"menu-button"},r.a.createElement("label",null,"Tempo:")," ",r.a.createElement("input",{id:"tempo",type:"number",value:u,onChange:function(e){return p(e.target.value)}})),r.a.createElement("button",{className:"menu-button"},r.a.createElement("label",null,"Key:")," ",r.a.createElement("select",{id:"key",value:f,onChange:function(e){return E(e.target.value)}},r.a.createElement("option",null,"0"),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"6"),r.a.createElement("option",null,"7"),r.a.createElement("option",null,"8"),r.a.createElement("option",null,"9"),r.a.createElement("option",null,"10"),r.a.createElement("option",null,"11"))),r.a.createElement(b,null),r.a.createElement(k,{source:m.a.Master}),r.a.createElement("button",{className:"menu-button metronome "+(L?"muted":"unmuted"),onClick:function(){"running"!==m.a.context.state&&m.a.context.resume(),B(!L)}},r.a.createElement(C.a,{icon:D.f})))),r.a.createElement(H,{data:{tracks:O,beatPixels:y,projectLength:ne(O),projectMaxLength:re(O)},methods:{removeTrack:function(e){M(O.slice(0,e).concat(O.slice(e+1)))},setBeatPixels:x}}),r.a.createElement("footer",{className:"App-menu-bar"},"fotoer"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[24,1,2]]]);
//# sourceMappingURL=main.0a485ee0.chunk.js.map